<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="santigutierrezsch">
    <meta name="keywords" content="games, unblocked games, video games, unity, webgl, swf, html5, unblocked, unblocker, sggames, sggame">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
    <link rel="icon" href="https://ssl.gstatic.com/docs/doclist/images/mediatype/icon_1_document_x16.png">
    <link rel="apple-touch-icon" href="/images/logo/favi/apple-touch-icon.png" sizes="180x180">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
    <title>Settings - SGGames</title>
    <!-- Add mimicry.js to enable site-wide tab cloaking -->
    <script src="/js/mimicry.js"></script>
    <style>
        :root {
            --primary-color: #0a0e17;
            --secondary-color: #1a1f2c;
            --accent-color: #5644ff;
            --text-color: #ffffff;
            --button-hover: #7366ff;
            --highlight-color: #ff4656;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--primary-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            width: 90%;
            max-width: 1000px;
            margin: 2rem auto;
            text-align: center;
            z-index: 10;
            position: relative;
        }
        
        header {
            margin-bottom: 2rem;
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(90deg, #5644ff, #9f44ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        h2 {
            font-size: 1.8rem;
            margin: 2rem 0 1rem;
            position: relative;
            display: inline-block;
        }
        
        .section-title {
            text-align: left;
            width: 100%;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        p {
            font-size: 1.1rem;
            opacity: 0.8;
            margin-bottom: 2rem;
        }
        
        .back-button {
            background-color: var(--secondary-color);
            color: var(--text-color);
            border: 2px solid var(--accent-color);
            border-radius: 8px;
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            font-size: 1rem;
            text-decoration: none;
            display: inline-block;
            margin-bottom: 2rem;
        }
        
        .back-button:hover {
            background-color: var(--accent-color);
            transform: translateY(-3px);
        }
        
        footer {
            margin-top: auto;
            padding: 1rem;
            text-align: center;
            opacity: 0.7;
            font-size: 0.9rem;
            width: 100%;
        }
        
        /* Settings Styles */
        .settings-section {
            background-color: var(--secondary-color);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: left;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .settings-section h3 {
            font-size: 1.6rem;
            margin-top: 0;
            margin-bottom: 1rem;
            color: var(--accent-color);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 0.8rem;
        }
        
        /* Tab Cloaking Styles */
        .rename-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .rename-option {
            background-color: #2a2f3c;
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .rename-option:hover {
            background-color: #3a4155;
            transform: translateY(-3px);
        }
        
        .rename-option.active {
            border: 2px solid var(--highlight-color);
            background-color: rgba(255, 70, 86, 0.1);
        }
        
        .rename-option-icon {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }
        
        .rename-option-title {
            font-weight: bold;
            margin-bottom: 0.3rem;
        }
        
        .rename-option-subtitle {
            font-size: 0.75rem;
            opacity: 0.7;
        }
        
        /* Email Customization Styles */
        .email-customization {
            margin-top: 1rem;
            transition: all 0.3s ease;
        }
        
        .email-input-group {
            display: flex;
            align-items: center;
        }
        
        .email-input {
            background-color: var(--primary-color);
            color: var(--text-color);
            border: 1px solid var(--accent-color);
            border-radius: 4px;
            padding: 0.5rem;
            font-size: 0.9rem;
        }
        
        .email-input-group span {
            margin: 0 0.5rem;
            color: var(--text-color);
        }
        
        #username {
            width: 120px;
        }
        
        #domain {
            width: 150px;
        }
        
        .apply-email {
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 0.5rem 0.8rem;
            margin-left: 0.5rem;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .apply-email:hover {
            background-color: var(--button-hover);
        }
        
        /* Security Settings Styles */
        .security-setting {
            margin-bottom: 2rem;
        }
        
        .security-setting h4 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }
        
        .security-setting p {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-bottom: 1rem;
        }
        
        /* Toggle Switch Styles */
        .toggle-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #333;
            transition: .4s;
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: var(--accent-color);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        
        /* Panic Key Setting Styles */
        .panic-key-setting {
            margin-top: 1rem;
        }
        
        .panic-key-label {
            display: block;
            margin-bottom: 0.5rem;
        }
        
        #panicKeyInput {
            background-color: var(--primary-color);
            color: var(--text-color);
            border: 1px solid var(--accent-color);
            border-radius: 4px;
            padding: 0.5rem;
            margin: 0.5rem 0;
            width: 50px;
            text-align: center;
            font-size: 1.2rem;
        }
        
        .setting-note {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 0.3rem;
        }
        
        .setting-warning {
            font-size: 0.8rem;
            color: var(--highlight-color);
            margin-top: 0.3rem;
        }
        
        @media (max-width: 768px) {
            .rename-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .settings-section {
                padding: 1.5rem;
            }
            
            .rename-options {
                grid-template-columns: 1fr;
            }
            
            .email-input-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .email-input-group span {
                margin: 0.5rem 0;
            }
            
            #username, #domain {
                width: 100%;
            }
            
            .apply-email {
                margin-left: 0;
                margin-top: 0.5rem;
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>SETTINGS</h1>
            <p>Customize your experience</p>
        </header>
        
        <a href="/" class="back-button">
            <i class="fas fa-arrow-left"></i> Back to Home
        </a>
        
        <!-- Tab Cloaking Section -->
        <div class="settings-section">
            <h3>Tab Cloaking</h3>
            <p>Change how this page appears in your browser</p>
            
            <div class="rename-options">
                <div class="rename-option" data-type="gdocs" data-title="Untitled document - Google Docs" data-icon="https://ssl.gstatic.com/docs/documents/images/kix-favicon-2023q4.ico">
                    <div class="rename-option-icon">📝</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">Google Docs</div>
                        <div class="rename-option-subtitle">Document editor</div>
                    </div>
                </div>
                
                <div class="rename-option" data-type="gdrive" data-title="My Drive - Google Drive" data-icon="https://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_32dp.png">
                    <div class="rename-option-icon">📁</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">Google Drive</div>
                        <div class="rename-option-subtitle">File storage</div>
                    </div>
                </div>
                
                <div class="rename-option" data-type="desmos" data-title="Desmos | Graphing Calculator" data-icon="https://www.desmos.com/assets/img/apps/graphing/favicon.ico">
                    <div class="rename-option-icon">📊</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">Desmos</div>
                        <div class="rename-option-subtitle">Graphing calculator</div>
                    </div>
                </div>
                
                <div class="rename-option" data-type="gsheets" data-title="Untitled spreadsheet - Google Sheets" data-icon="https://ssl.gstatic.com/docs/spreadsheets/favicon3.ico">
                    <div class="rename-option-icon">📊</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">Google Sheets</div>
                        <div class="rename-option-subtitle">Spreadsheet editor</div>
                    </div>
                </div>
                
                <div class="rename-option" data-type="gslides" data-title="Untitled presentation - Google Slides" data-icon="https://ssl.gstatic.com/docs/presentations/images/favicon5.ico">
                    <div class="rename-option-icon">🖼️</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">Google Slides</div>
                        <div class="rename-option-subtitle">Presentation editor</div>
                    </div>
                </div>

                <div class="rename-option" data-type="notion" data-title="Notion - Workspace" data-icon="https://www.notion.so/favicon.ico">
                    <div class="rename-option-icon">📒</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">Notion</div>
                        <div class="rename-option-subtitle">Notes & Docs</div>
                    </div>
                </div>

                <div class="rename-option" data-type="google" data-title="Google" data-icon="https://icons8.com/icon/17949/google">
                    <div class="rename-option-icon">🔎</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">Google</div>
                        <div class="rename-option-subtitle">Search engine</div>
                    </div>
                </div>

                <div class="rename-option" data-type="canvas" data-title="Dashboard" data-icon="https://drive.google.com/uc?id=13EU5WdjXriy8Q-ZSVg3r1BmAJXWpdO5Q">
                    <div class="rename-option-icon">📝</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">Canvas</div>
                        <div class="rename-option-subtitle">School classroom organizer</div>
                    </div>
                </div>

                <div class="rename-option" data-type="infcampus" data-title="Home | Infinite Campus" data-icon="https://resources.finalsite.net/images/f_auto,q_auto/v1686340745/puhsdorg/kbja0jqffcfcisjmob5c/ic.png">
                    <div class="rename-option-icon">💯</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">Infinite Campus</div>
                        <div class="rename-option-subtitle">Grades dashboard</div>
                    </div>
                </div>

                <div class="rename-option" data-type="goformative" data-title="GoFormative" data-icon="https://cdn.theorg.com/e49252c3-f2f9-4dba-81de-6caa20776bcb_medium.jpg">
                    <div class="rename-option-icon">🧠</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">GoFormative</div>
                        <div class="rename-option-subtitle">Quiz taking platform</div>
                    </div>
                </div>

                <div class="rename-option" data-type="d203" data-title="Naperville Community Unit School District 203 / Homepage" data-icon="https://media.glassdoor.com/sqll/919132/naperville-community-unit-school-district-203-squarelogo-1468410502381.png">
                    <div class="rename-option-icon">🏫</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">D203</div>
                        <div class="rename-option-subtitle">District 203 Homepage</div>
                    </div>
                </div>

                <div class="rename-option" data-type="gmail" data-title="Inbox - example@gmail.com - Gmail" data-icon="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico">
                    <div class="rename-option-icon">📧</div>
                    <div class="rename-option-details">
                        <div class="rename-option-title">Gmail</div>
                        <div class="rename-option-subtitle">Email service</div>
                    </div>
                </div>
    
            <!-- Email Customization Section (hidden by default) -->
                <div class="email-customization" id="emailCustomization" style="display: none;">
                    <div class="email-input-group">
                        <input type="text" id="username" placeholder="username" class="email-input">
                        <span>@</span>
                        <input type="text" id="domain" placeholder="gmail.com" class="email-input">
                        <button class="apply-email">Apply</button>
                    </div>
                </div>
            </div>
        
        <!-- Security Settings Section -->
        <div class="settings-section">
            <h3>Security Settings</h3>
            
            <div class="security-setting">
                <h4>Require verification to close tab</h4>
                <p>Prevents tab from being closed without verification</p>
                
                <label class="toggle-label">
                    <span>Enable verification</span>
                    <div class="toggle-switch">
                        <input type="checkbox" id="verificationToggle">
                        <span class="toggle-slider"></span>
                    </div>
                </label>
            </div>
            
            <div class="security-setting">
                <h4>Panic Button</h4>
                <p>Instantly redirects to Google when pressed</p>
                
                <label class="toggle-label">
                    <span>Enable panic button</span>
                    <div class="toggle-switch">
                        <input type="checkbox" id="panicButtonToggle" checked>
                        <span class="toggle-slider"></span>
                    </div>
                </label>
                
                <div class="panic-key-setting">
                    <label for="panicKeyInput" class="panic-key-label">Panic Key:</label>
                    <input type="text" id="panicKeyInput" value="[" maxlength="1">
                    <div class="setting-note">Press this key to instantly redirect to Google</div>
                    <div class="setting-warning">⚠️ Use an uncommon key to avoid accidental activation</div>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        © 2025 Santiago Gutierrez
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize settings
            loadSavedSettingsPage();
            
            // Setup rename options
            const renameOptions = document.querySelectorAll('.rename-option');
            renameOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove active class from all options
                    renameOptions.forEach(opt => opt.classList.remove('active'));
                    // Add active class to clicked option
                    this.classList.add('active');
                    
                    // Show/hide email customization if Gmail is selected
                    const emailCustomization = document.getElementById('emailCustomization');
                    if (emailCustomization) {
                        if (this.dataset.type === 'gmail') {
                            emailCustomization.style.display = 'block';
                        } else {
                            emailCustomization.style.display = 'none';
                        }
                    }
                    
                    // Auto-save when option is selected
                    savePageStyle();
                });
            });
            
            // Setup email customization apply button
            const applyEmailBtn = document.querySelector('.apply-email');
            if (applyEmailBtn) {
                applyEmailBtn.addEventListener('click', function() {
                    applyCustomEmail();
                });
            }
            
            // Setup toggles to auto-save on change
            const toggleInputs = document.querySelectorAll('.toggle-switch input');
            toggleInputs.forEach(input => {
                input.addEventListener('change', function() {
                    saveSecuritySettings();
                });
            });
            
            // Setup panic key input to save on change
            const panicKeyInput = document.getElementById('panicKeyInput');
            if (panicKeyInput) {
                panicKeyInput.addEventListener('change', function() {
                    saveSecuritySettings();
                });
            }
        });
        
        function loadSavedSettingsPage() {
            // Tab cloaking settings
            const savedType = localStorage.getItem('pageMimicType') || 'gdocs';
            
            // Highlight the correct option
            const options = document.querySelectorAll('.rename-option');
            options.forEach(opt => {
                if (opt.dataset.type === savedType) {
                    opt.classList.add('active');
                    
                    // Show email customization if Gmail is selected
                    if (savedType === 'gmail') {
                        const emailCustomization = document.getElementById('emailCustomization');
                        if (emailCustomization) {
                            emailCustomization.style.display = 'block';
                        }
                    }
                }
            });
            
            // Security settings
            const verificationToggle = document.getElementById('verificationToggle');
            const panicButtonToggle = document.getElementById('panicButtonToggle');
            const panicKeyInput = document.getElementById('panicKeyInput');
            
            if (verificationToggle) {
                const verificationEnabled = localStorage.getItem('verificationEnabled') === 'true';
                verificationToggle.checked = verificationEnabled;
            }
            
            if (panicButtonToggle) {
                const panicEnabled = localStorage.getItem('panicEnabled') !== 'false'; // Default to true
                panicButtonToggle.checked = panicEnabled;
            }
            
            if (panicKeyInput) {
                const panicKey = localStorage.getItem('panicKey') || '[';
                panicKeyInput.value = panicKey;
            }
            
            // Email customization settings
            const usernameInput = document.getElementById('username');
            const domainInput = document.getElementById('domain');
            
            if (usernameInput && domainInput) {
                usernameInput.value = localStorage.getItem('emailUsername') || '';
                domainInput.value = localStorage.getItem('emailDomain') || 'gmail.com';
            }
        }
        
        function savePageStyle() {
            const selectedOption = document.querySelector('.rename-option.active');
            if (selectedOption) {
                const pageType = selectedOption.dataset.type;
                let pageTitle = selectedOption.dataset.title;
                const pageIcon = selectedOption.dataset.icon;
                
                // If this is a Gmail type and we have a custom email, use it
                if (pageType === 'gmail') {
                    const username = localStorage.getItem('emailUsername');
                    const domain = localStorage.getItem('emailDomain');
                    
                    if (username && domain) {
                        pageTitle = `Inbox - ${username}@${domain} - Gmail`;
                    }
                }
                
                // Save preferences to localStorage
                localStorage.setItem('pageMimicType', pageType);
                localStorage.setItem('pageMimicTitle', pageTitle);
                localStorage.setItem('pageMimicIcon', pageIcon);
                
                // Apply changes immediately
                document.title = pageTitle;
                const favicon = document.querySelector('link[rel="icon"]');
                if (favicon) {
                    favicon.href = pageIcon;
                }
                
                // Show feedback
                showSavedFeedback();
            }
        }
        
        function applyCustomEmail() {
            const usernameInput = document.getElementById('username');
            const domainInput = document.getElementById('domain');
            
            if (usernameInput && domainInput) {
                const username = usernameInput.value.trim();
                const domain = domainInput.value.trim() || 'gmail.com';
                
                // Save to localStorage
                localStorage.setItem('emailUsername', username);
                localStorage.setItem('emailDomain', domain);
                
                // If Gmail is currently selected, update the title immediately
                const selectedOption = document.querySelector('.rename-option.active');
                if (selectedOption && selectedOption.dataset.type === 'gmail') {
                    const newTitle = `Inbox - ${username}@${domain} - Gmail`;
                    document.title = newTitle;
                    localStorage.setItem('pageMimicTitle', newTitle);
                }
                
                // Show feedback
                const applyButton = document.querySelector('.apply-email');
                if (applyButton) {
                    const originalText = applyButton.textContent;
                    applyButton.textContent = 'Saved!';
                    applyButton.style.backgroundColor = '#4CAF50'; // Green
                    
                    // Reset after a short delay
                    setTimeout(() => {
                        applyButton.textContent = originalText;
                        applyButton.style.backgroundColor = '';
                    }, 1500);
                }
            }
        }
        
        function saveSecuritySettings() {
            const verificationToggle = document.getElementById('verificationToggle');
            const panicButtonToggle = document.getElementById('panicButtonToggle');
            const panicKeyInput = document.getElementById('panicKeyInput');
            
            if (verificationToggle) {
                localStorage.setItem('verificationEnabled', verificationToggle.checked);
            }
            
            if (panicButtonToggle) {
                localStorage.setItem('panicEnabled', panicButtonToggle.checked);
            }
            
            if (panicKeyInput && panicKeyInput.value) {
                localStorage.setItem('panicKey', panicKeyInput.value);
            }
            
            // Show feedback
            showSavedFeedback();
        }
        
        function showSavedFeedback() {
            // Check if the feedback element already exists
            let feedbackEl = document.getElementById('savedFeedback');
            
            // Create it if it doesn't exist
            if (!feedbackEl) {
                feedbackEl = document.createElement('div');
                feedbackEl.id = 'savedFeedback';
                feedbackEl.style.position = 'fixed';
                feedbackEl.style.bottom = '20px';
                feedbackEl.style.left = '50%';
                feedbackEl.style.transform = 'translateX(-50%)';
                feedbackEl.style.backgroundColor = '#4CAF50';
                feedbackEl.style.color = 'white';
                feedbackEl.style.padding = '10px 20px';
                feedbackEl.style.borderRadius = '4px';
                feedbackEl.style.zIndex = '9999';
                feedbackEl.style.opacity = '0';
                feedbackEl.style.transition = 'opacity 0.3s ease';
                feedbackEl.textContent = 'Settings saved!';
                document.body.appendChild(feedbackEl);
            }
            
            // Show the feedback
            feedbackEl.style.opacity = '1';
            
            // Hide after 1.5 seconds
            setTimeout(() => {
                feedbackEl.style.opacity = '0';
            }, 1500);
        }
    </script>
</body>
</html>
